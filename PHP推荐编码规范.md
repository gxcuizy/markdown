---
title: PHP推荐编码规范
date: 2018-07-26 15:51:15
tags: [PHP]
---

### 我们为什么需要编码规范？
* 为了提高工作效率，保证开发的有效性和合理性
* 为了提高代码可读性和可重复利用性，从而节约沟通成本

### 1. 排版
* 程序块要采用缩进风格编写，缩进的格式建议为4个空格，单模块内必须统一
* 关键字与其后的左括号之间有一个空格，而函数名与左括号之间不应有任何字符包括空格
* if / while等逻辑结构体，即使只有一行，也必须加上花括号包含，不建议写成一行，增加可读性
* 同一个代码块的变量定义， 应该尽可能集中在块开始位置，提高可读性

<!-- more  -->

### 2. 命令
* 常量命名必须全部大写字母，单词之间以下划线’_’连接
* 关键字true、false、null必须小写
* 类的命名采用驼峰法（首字母大写）
* 类的方法命名采用驼峰命名（首字母小写）
* 普通函数的命名采用过程函数风格命名，即使用小写字母和下划线（小写字母开头）的方式
* 类成员变量和局部变量必须采用驼峰命名法（首字母小写）
* 以单下划线“_”打头的函数或方法作为私有方法
* 以双下划线“__”打头的函数或方法作为魔术方法

### 3. 注释
* 建议文件、函数、类以及成员变量都应包含注释，关键代码必须有注释
* 单行注释用//，不能使用#作为单行注释， 多行注释\/\* \*\*\/不能出现在同一行
* 方法或者函数必须通过param和return标记指明其参数和返回值

### 4. 编码原则
* 生成对象时，必须使用new ClassName()，不要用new ClassName
* 除非特殊情况，否则不允许使用require和include，而使用对应的require_once/include_once
* 能用foreach的就不要用for，能用for的就不要用while
* 字符串尽量用’ ‘而不是” “进行引用，一个是效率问题，一个是安全问题
* 函数允许使用默认参数，但是默认参数需要放到参数列表最后面
* 禁止使用and、or， 而是使用&&、||
* $i, $j这样无意义的变量名，除非是用作循环计数变量

### 5. 数据表和字段
* 数据表和字段采用小写加下划线方式命名，并注意字段名不要以下划线开头
* 不建议使用驼峰和中文作为数据表字段命名

### 6. 代码性能
* 把重复调用放在循环体外
* 不要在你的提交的代码中包含调试代码，就算是注释掉了也不行
* 运行代码时不应该出现任何错误信息，并不是把警告和提示信息关掉来满足这一点

### 最后
最后说的是，规范也不是死的或者强制的，只是一种编码建议，更加不是标准。“约定大于规范”，如果有的规范太死板，不适应您的团队，您可以不采用，按照您自己的规范即可。当然了，你有任何问题，都可以与我交流和联系。

![PHP编码规范][php_rule]

[php_rule]: https://pic2.zhimg.com/v2-9f3c204b65e5478d7e2feac763027bd3_1200x500.jpg
